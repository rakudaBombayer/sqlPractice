CREATE TABLE SampleMath
(m NUMERIC (10, 3),
n INTEGER,
p INTEGER);




BEGIN;

INSERT INTO SampleMath(m, n, p) VALUES (500, 0, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (-180, 0, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (NULL, NULL, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (NULL, 7, 3);

INSERT INTO SampleMath(m, n, p) VALUES (NULL, 5, 2);

INSERT INTO SampleMath(m, n, p) VALUES (NULL, 4, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (8, NULL, 3);

INSERT INTO SampleMath(m, n, p) VALUES (2.27, 1, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (5.555, 2, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (NULL, 1, NULL);

INSERT INTO SampleMath(m, n, p) VALUES (8.76, NULL, NULL);


COMMIT;

6-2

SELECT m, ABS(m) AS abs_col FROM SampleMath;


6-3
SELECT n, p, MOD(n, p) AS mod_col FROM SampleMath;


6-4
SELECT m, n, ROUND(m, n) AS round_col FROM SampleMath;


6-5
CREATE TABLE SampleStr
(str1 VARCHAR(40),
str2 VARCHAR(40),
str3 VARCHAR(40));


BEGIN;

INSERT INTO SampleStr(str1, str2, str3) VALUES ('あいう','えお', NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES ('abc','def', NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES ('山田','太郎', 'です');

INSERT INTO SampleStr(str1, str2, str3) VALUES ('aaa', NULL, NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES (NULL, 'あああ', NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES ('@!#$%', NULL, NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES ('ABC', NULL, NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES ('aBC', NULL, NULL);

INSERT INTO SampleStr(str1, str2, str3) VALUES ('abc太郎', 'abc', 'ABC');

INSERT INTO SampleStr(str1, str2, str3) VALUES ('abcdefabc', 'abc', 'ABC');


INSERT INTO SampleStr(str1, str2, str3) VALUES ('ミックマック', 'ッ', 'っ');


COMMIT;


select * from samplestr;

6-6
SELECT str1, str2, 
str1 || str2 AS str_concat
FROM SampleStr;

6-7
SELECT str1, str2, str3,
str1 || str2 || str3 AS str_concat
FROM SampleStr
WHERE str1 = '山田';

6-8
SELECT str1,
LENGTH(str1) AS len_str
FROM SampleStr;

6-9
SELECT str1,
LOWER(str1) AS low_str
FROM SampleStr
WHERE str1 IN ('ABC', 'aBC', 'abc', '山田');


6-10
SELECT str1, str2, str3, REPLACE(str1, str2, str3) AS rep_str

FROM SampleStr;

6-11
SELECT str1,  SUBSTRING(str1 FROM 3 FOR 2) AS sub_str

FROM SampleStr;

6-12
SELECT str1, 
	UPPER(str1) AS up_str
FROM SampleStr
WHERE str1 IN ('ABC', 'aBC', 'abc', '山田');

6-13
SELECT CURRENT_DATE;

6-14
SELECT CURRENT_TIME;

6-15
SELECT CURRENT_TIMESTAMP;

6-16
SELECT CURRENT_TIMESTAMP,
	EXTRACT(YEAR   FROM CURRENT_TIMESTAMP) AS year,
	EXTRACT(MONTH   FROM CURRENT_TIMESTAMP) AS month,
	EXTRACT(DAY   FROM CURRENT_TIMESTAMP) AS day,
	EXTRACT(HOUR   FROM CURRENT_TIMESTAMP) AS hour,
	EXTRACT(MINUTE   FROM CURRENT_TIMESTAMP) AS minute,
	EXTRACT(SECOND   FROM CURRENT_TIMESTAMP) AS second;

6-17
SELECT CAST('0001' AS INTEGER) AS int_col;

6-18
SELECT CAST('2009-12-14' AS DATE) AS date_col;


6-19
SELECT COALESCE(NULL, 1)   AS col_1,
	COALESCE(NULL, 'test', NULL)   AS col_2,
	COALESCE(NULL, NULL, '2009-11-01')   AS col_3;


6-20
SELECT COALESCE(str2, 'NULLです')   FROM SampleStr;


基本はsqlにデータベース固有の関数をつかわない→汎用的でなくなるため










































